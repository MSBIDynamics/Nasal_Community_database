{% load i18n %}

{% if result_hidden_fields %}
  <div class="hiddenfields">{% for item in result_hidden_fields %}{{ item }}{% endfor %}</div>
{% endif %}

{% if results %}
  <div class="w-full overflow-x-auto">
    <table id="result_list" class="min-w-full">
      <thead>
        <tr class="border-y border-gray-200 dark:border-gray-800">
          {% for header in result_headers %}
            <th scope="col" {{ header.class_attrib }} class="px-6 py-3 text-left">
                {% if header.sortable and header.sort_priority > 0 %}
                    <div class="sortoptions">
                        <a class="sortremove" href="{{ header.url_remove }}" title="{% translate "Remove from sorting" %}"></a>
                        {% if num_sorted_fields > 1 %}<span class="sortpriority" title="{% blocktranslate with priority_number=header.sort_priority %}Sorting priority: {{ priority_number }}{% endblocktranslate %}">{{ header.sort_priority }}</span>{% endif %}
                        <a href="{{ header.url_toggle }}" class="toggle {{ header.ascending|yesno:'ascending,descending' }}" title="{% translate "Toggle sorting" %}"></a>
                    </div>
                {% endif %}
               {% if header.sortable %}
                <a href="{{ header.url_primary }}" class="group inline-flex items-center">
                  <span class="font-semibold text-gray-600 text-xs dark:text-gray-400 uppercase tracking-wider">{{ header.text|capfirst }}</span>
                </a>
              {% else %}
                <span class="font-semibold text-gray-600 text-xs dark:text-gray-400 uppercase tracking-wider">{{ header.text|capfirst }}</span>
              {% endif %}
            </th>
          {% endfor %}
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200 dark:divide-gray-800">
        {% for result in results %}
          {% if result.form and result.form.non_field_errors %}
            <tr><td colspan="{{ result|length }}" class="p-4 text-red-600">{{ result.form.non_field_errors }}</td></tr>
          {% endif %}
          <tr class="hover:bg-gray-50 dark:hover:bg-white/5 transition-colors duration-150 align-middle text-center">
            {% for item in result %}{{ item|safe }}{% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="p-12 text-center">
    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z" /></svg>
    <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">{% translate "No data found" %}</h3>
    <p class="mt-1 text-sm text-gray-500">{% translate "Try adjusting your search or filter criteria." %}</p>
  </div>
{% endif %}